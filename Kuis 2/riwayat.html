<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Riwayat Transaksi</title>
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:linear-gradient(to bottom,#4d8b87,#f1d6a5);min-height:100vh;}
    header{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to right,#1a3d7c,#4d8b87);padding:15px 20px;color:white;}
    header .brand{display:flex;align-items:center;gap:10px;}
    header .brand img{width:50px;height:50px;border-radius:50%;background:white;padding:5px;}
    table{width:90%;margin:30px auto;border-collapse:collapse;background:white;box-shadow:0 4px 10px rgba(0,0,0,0.2);}
    th,td{border:1px solid #ccc;padding:10px;text-align:left;}
    th{background:#1a3d7c;color:white;}
    tr:nth-child(even){background:#f9f9f9;}
    .btn{display:inline-block;margin:20px auto;background:#f44336;color:white;padding:10px 15px;border-radius:6px;text-decoration:none;font-weight:bold;}
    .btn:hover{background:#c62828;}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="assets/pelita-logo.png" alt="Logo">
      <h1>Pelita Sejahtera</h1>
    </div>
    <a href="home.html" style="color:white;font-weight:bold;">Home</a>
  </header>

  <table>
    <thead>
      <tr>
        <th>Tanggal</th>
        <th>Produk</th>
        <th>Nama</th>
        <th>Detail</th>
        <th>Premi</th>
      </tr>
    </thead>
    <tbody id="riwayatBody"></tbody>
  </table>

  <a href="home.html" class="btn">Kembali</a>

  <script>
    const riwayat = JSON.parse(localStorage.getItem("riwayat")) || [];
    const tbody = document.getElementById("riwayatBody");

    if(riwayat.length === 0){
      tbody.innerHTML = "<tr><td colspan='5'>Belum ada transaksi</td></tr>";
    } else {
      riwayat.forEach(item => {
        let detail = "";
        if(item.paket) detail = "Paket: " + item.paket;
        if(item.merk) detail = item.merk + " (" + item.tahun + ")";
        if(item.jumlah) detail = "Pertanggungan: Rp " + item.jumlah.toLocaleString();
        if(item.harga) detail = "Harga Mobil: Rp " + item.harga.toLocaleString();

        const row = `
          <tr>
            <td>${item.tanggal}</td>
            <td>${item.produk}</td>
            <td>${item.nama}</td>
            <td>${detail}</td>
            <td>Rp ${item.premi.toLocaleString()}</td>
          </tr>`;
        tbody.innerHTML += row;
      });
    }
  </script>
</body>
</html>
