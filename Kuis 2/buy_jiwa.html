<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Beli - Asuransi Jiwa</title>
  <style>
    body{margin:0;font-family:Arial,sans-serif;background:linear-gradient(to bottom,#4d8b87,#f1d6a5);min-height:100vh;}
    header{display:flex;justify-content:space-between;align-items:center;background:linear-gradient(to right,#1a3d7c,#4d8b87);padding:15px 20px;color:white;}
    header .brand{display:flex;align-items:center;gap:10px;}
    header .brand img{width:50px;height:50px;border-radius:50%;background:white;padding:5px;}
    .back-btn{background:#f44336;color:white;padding:8px 16px;border-radius:6px;text-decoration:none;font-weight:bold;}
    .container{max-width:700px;margin:30px auto;background:white;border-radius:12px;padding:25px;box-shadow:0 6px 15px rgba(0,0,0,0.2);}
    label{display:block;margin-top:10px;font-weight:bold;}
    input{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:6px;}
    .btn{margin-top:20px;display:inline-block;background:#f4b400;color:white;padding:10px 15px;border-radius:6px;text-decoration:none;font-weight:bold;}
    .btn:hover{background:#d99900;}
    .result{margin-top:15px;font-weight:bold;color:#1a3d7c;}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <img src="assets/pelita-logo.png" alt="Logo">
      <h1>Pelita Sejahtera</h1>
    </div>
    <a href="detail_jiwa.html" class="back-btn">Kembali</a>
  </header>

  <div class="container">
    <h2>Form Pembelian Asuransi Jiwa</h2>
    <form id="formJiwa">
      <label>Nama Lengkap</label>
      <input type="text" id="nama" required>

      <label>Usia</label>
      <input type="number" id="usia" required>

      <label>Jumlah Pertanggungan (Rp)</label>
      <input type="number" id="jumlah" required>

      <button type="button" class="btn" onclick="hitungPremi()">Hitung Premi</button>
    </form>
    <div id="hasil" class="result"></div>
    <a id="checkoutBtn" href="checkout.html" class="btn" style="display:none;">Checkout</a>
  </div>

  <script>
    function hitungPremi(){
      const nama = document.getElementById("nama").value;
      const usia = parseInt(document.getElementById("usia").value);
      const jumlah = parseFloat(document.getElementById("jumlah").value);

      let premi = 0;
      if(usia <= 30) premi = 0.01 * jumlah;
      else if(usia <= 50) premi = 0.02 * jumlah;
      else premi = 0.03 * jumlah;

      document.getElementById("hasil").textContent = "Premi per tahun: Rp " + premi.toLocaleString();

      const data = { produk: "Asuransi Jiwa", nama, usia, jumlah, premi };
      localStorage.setItem("checkout", JSON.stringify(data));

      let riwayat = JSON.parse(localStorage.getItem("riwayat")) || [];
      riwayat.push({ ...data, tanggal: new Date().toLocaleString() });
      localStorage.setItem("riwayat", JSON.stringify(riwayat));

      document.getElementById("checkoutBtn").style.display = "inline-block";
    }
  </script>
</body>
</html>
